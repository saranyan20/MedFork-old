<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Transaction Details</title>
    <link rel="icon" href="../static/img/favicon.png">

    <!-- Icons font CSS-->
    <link href="../static/vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="../static/vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">

    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="../static/vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="../static/vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="../static/css/main.css" rel="stylesheet" media="all">
  
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <!-- animate CSS -->
    <link rel="stylesheet" href="../static/css/animate.css">
    <!-- owl carousel CSS -->
    <link rel="stylesheet" href="../static/css/owl.carousel.min.css">
    <!-- themify CSS -->
    <link rel="stylesheet" href="../static/css/themify-icons.css">
    <!-- flaticon CSS -->
    <link rel="stylesheet" href="../static/css/flaticon.css">
    <!-- magnific popup CSS -->
    <link rel="stylesheet" href="../static/css/magnific-popup.css">
    <!-- nice select CSS -->
    <link rel="stylesheet" href="../static/css/nice-select.css">
    <!-- swiper CSS -->
    <link rel="stylesheet" href="../static/css/slick.css">
    <!-- style CSS -->
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="../static/vendor/jquery/jquery.min.js"></script>
</head>

<body>

    <!--::header part start::-->
    <div class="main-body">
        <header class="main_menu home_menu" style="position: static;">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-12">
                        <nav class="navbar navbar-expand-lg navbar-light">
                            <a class="navbar-brand" href="index.html"> <img src="../static/img/logo.png" alt="logo" style="max-width:230px; position: relative; top:8px; left:50px;"> </a>
                            <button class="navbar-toggler" type="button" data-toggle="collapse"
                                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            
    
                            <div class="collapse navbar-collapse main-menu-item justify-content-center"
                                id="navbarSupportedContent">
                                <ul class="navbar-nav align-items-center">
                                    <li class="nav-item active">
                                        <a class="nav-link" href="{{url_for('index')}}">Home</a>
                                    </li>
                                    <li class="nav-item active">
                                        <a class="nav-link" href="{{url_for('key_generation')}}">Key Generation</a>
                                    </li>
                                   
                                    <li class="nav-item">
                                        <a class="nav-link" href="{{url_for('applicant_details')}}">Applicant Details</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{{url_for('block_explorer')}}">Block Explorer</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{{url_for('full_chain')}}">Full Chain</a>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" id="navbarDropdown"
                                            role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Manage
                                        </a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                            <!-- <a class="dropdown-item" href="#">Hospital Registration</a> -->
                                            <a class="dropdown-item nav-link" href="{{url_for('medical_details')}}">Medical Details</a>
                                            <a class="dropdown-item nav-link" href="{{url_for('latest_transaction')}}">Latest Transaction</a>
                                            <a class="dropdown-item nav-link" href="{{url_for('mine_page')}}">Mine</a>
                                            <a class="dropdown-item nav-link" href="{{url_for('version_holder')}}">Version Holder</a>
                                            <a class="dropdown-item nav-link" href="{{url_for('node_registration')}}">Node Registration</a>
                                            <a class="dropdown-item nav-link" href="{{url_for('full_transaction')}}">Full Transaction</a>
                                        </div>
                                    </li>
    
                              
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <!-- Header part end-->
    




    <div class="page-wrapper bg-gra-03 p-t-45 p-b-50">
        <div class="wrapper wrapper--w790" style=" max-width:973px;">
            <div class="card card-5">
                <div class="card-heading">
                    <h2 class="title">Transaction Explorer</h2>
                </div>
                             
                <div class="container"  style="max-width:1250px;">
                    <div class="table-responsive" style="padding-bottom: 10px; padding-top:10px;">
                      <table class="table table-striped">

                        <tr>
                          <th>IPFS File Hash</th>
                          <td id="ipfs_file_hash"></td>

                                <script>
                                    var searchValue = localStorage.getItem('name');
                                    console.log(searchValue);
                                    $(document).ready(function () {
                                    $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                        var mdata = '';
                                        $.each(data, function (key, value){
                                            document.getElementById('ipfs_file_hash').innerHTML = value.ipfs_file_hash;
                                        });
                                    });
                                });
                                </script>

                        </tr>

                        <tr>
                          <th>Version Holder</th>
                          <td id="version_holder"></td>
                          <script>
                            var searchValue = localStorage.getItem('name');
                            console.log(searchValue);
                            $(document).ready(function () {
                            $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                var mdata = '';
                                $.each(data, function (key, value){
                                    document.getElementById('version_holder').innerHTML = value.version_holder;
                                });
                            });
                        });
                        </script>
                        </tr>

                        <tr>
                            <th>Doctors's Digital Sign</th>
                            <td id="digital_sign_doctor"></td>
                          <script>
                            var searchValue = localStorage.getItem('name');
                            console.log(searchValue);
                            $(document).ready(function () {
                            $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                var mdata = '';
                                $.each(data, function (key, value){
                                    document.getElementById('digital_sign_doctor').innerHTML = value.digital_sign_doctor;
                                });
                            });
                        });
                        </script>

                        </tr>
                        <tr>
                            <th>Patient's Digital Sign</th>
                            <td id="digital_sign_patient"></td>
                          <script>
                            var searchValue = localStorage.getItem('name');
                            console.log(searchValue);
                            $(document).ready(function () {
                            $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                var mdata = '';
                                $.each(data, function (key, value){
                                    document.getElementById('digital_sign_patient').innerHTML = value.digital_sign_patient;
                                });
                            });
                        });
                        </script>
                        </tr>

                        <tr>
                            <th>Doctors's Public Sign</th>
                            <td id="public_key_doctor"></td>
                          <script>
                            var searchValue = localStorage.getItem('name');
                            console.log(searchValue);
                            $(document).ready(function () {
                            $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                var mdata = '';
                                $.each(data, function (key, value){
                                    document.getElementById('public_key_doctor').innerHTML = value.public_key_doctor;
                                });
                            });
                        });
                        </script>
                        </tr>

                        <tr>
                            <th>Patient's Public Sign</th>
                            <td id="public_key_patient"></td>
                          <script>
                            var searchValue = localStorage.getItem('name');
                            console.log(searchValue);
                            $(document).ready(function () {
                            $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                var mdata = '';
                                $.each(data, function (key, value){
                                    document.getElementById('public_key_patient').innerHTML = value.public_key_patient;
                                });
                            });
                        });
                        </script>
                        </tr>

                        <tr>
                            <th>Time</th>
                            <td id="time"></td>
                            <script>
                                var searchValue = localStorage.getItem('name');
                                console.log(searchValue);
                                $(document).ready(function () {
                                $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                    var mdata = '';
                                    $.each(data, function (key, value){
                                        document.getElementById('time').innerHTML = value.time;
                                    });
                                });
                            });
                            </script>
                        </tr>

                        <tr>
                            <th>Modification</th>
                            <td id="modification"></td>
                            <script>
                                var searchValue = localStorage.getItem('name');
                                console.log(searchValue);
                                $(document).ready(function () {
                                $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                    var mdata = '';
                                    $.each(data, function (key, value){
                                        document.getElementById('modification').innerHTML = value.modification;
                                    });
                                });
                            });
                            </script>
                        </tr>

                        <tr>
                          <th>UUID</th>
                          <td id="UUID"></td>
                            <script>
                                var searchValue = localStorage.getItem('name');
                                console.log(searchValue);
                                $(document).ready(function () {
                                $.getJSON("../static/block_explorer/"+searchValue+"transactions.json", function(data){
                                    var mdata = '';
                                    $.each(data, function (key, value){
                                        document.getElementById('UUID').innerHTML = value.UUID;
                                    });
                                });
                            });
                            </script>
                        
                        </tr>
                    </table>

                      
                  </div>
                  </div>
                    
                </div>
            </div>
        </div>
    </div>

    <!-- Jquery JS-->
    <script src="../static/vendor/jquery/jquery.min.js"></script>
    <!-- Vendor JS-->
    <script src="../static/vendor/select2/select2.min.js"></script>
    <script src="../static/vendor/datepicker/moment.min.js"></script>
    <script src="../static/vendor/datepicker/daterangepicker.js"></script>

    <!-- Main JS-->
    <script src="../static/js/global.js"></script>




    


<!-- <script>
    var searchValue = localStorage.getItem('name');
    console.log(searchValue);
    $(document).ready(function () {
    $.getJSON("../static/block_explorer/"+searchValue+".json", function(data){
        var mdata = '';
        $.each(data, function (key, value){
            mdata += '<tr>';
            mdata += '<td>'+value.ipfs_file_hash + '</td>';
            mdata += '<td>'+value.version_holder + '</td>';
            mdata += '<td>'+value.digital_sign_doctor + '</td>';
            mdata += '<td>'+value.digital_sign_patient + '</td>';
            mdata += '<td>'+value.public_key_doctor + '</td>';
            mdata += '<td>'+value.public_key_patient + '</td>';
            mdata += '<td>'+value.time + '</td>';
            mdata += '<td>'+value.modification + '</td>';
            mdata += '<td>'+value.UUID + '</td>';
            mdata += '</tr>';
        });
        $('table').append(mdata);
    });
}); 

// $(document).ready(function(){
//     function doesFileExist(urlToFile) {
//                 var xhr = new XMLHttpRequest();
//                 xhr.open('HEAD', urlToFile, false);
//                 xhr.send();
     
//                 if (xhr.status == "404") {
//                     return false;
//                 } else {
//                     return true;
//                 }
//             }

//     for(var i=2 ; i>0 ; i++){
//         var result = doesFileExist("../static/block_explorer/"+i+".json");
    
//         if (result == true) {
//             $.getJSON("../static/block_explorer/"+i+".json", function(data){
//                 var mdata = '';

//                 $.each(data, function(key, value){

//             mdata += '<tr>';
//             mdata += '<td>'+value.ipfs_file_hash + '</td>';
//             mdata += '<td>'+value.version_holder + '</td>';
//             mdata += '<td>'+value.digital_sign_doctor + '</td>';
//             mdata += '<td>'+value.digital_sign_patient + '</td>';
//             mdata += '<td>'+value.public_key_doctor + '</td>';
//             mdata += '<td>'+value.public_key_patient + '</td>';
//             mdata += '<td>'+value.time + '</td>';
//             mdata += '<td>'+value.modification + '</td>';
//             mdata += '<td>'+value.UUID + '</td>';
//             mdata += '</tr>';
//         });
//                 $('table').append(mdata);
//             });
        
//         } else {
//             break;
//         }
//     }


// });
-->

</body>

</html>
